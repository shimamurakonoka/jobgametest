<html lang="ja">
<head>
    <title>JavaScript マウスクリック位置に画像が移動</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../static/css/style.css">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="js/jquery.darktooltip.js" type="text/javascript"></script>
    <link rel="stylesheet" href="css/darktooltip.css">
    <style>
        .container{
            position: relative;
        }
        #pop{
            position: absolute;
            top: 400px;;
            left: 350px;; 
        }
        #openBlock{
            display:none;
            position: absolute;
        }
        .Bbule{ margin-right: 85%;}
    </style>
</head>
<body>
    <div class="container">
        <!-- map表示 -->
        <!-- Image Map Generated by http://www.image-map.net/ -->
        <img src="../static/images/map.png" usemap="#image-map">
        <map name="image-map">
            <div id="stage">
                <area target="_self" alt="1-1" title="1-1" data-stage="1-1" onclick="setBounds('1-1')" coords="323,600,428,670" shape="rect">
                <area target="_self" alt="1-2" title="1-2" data-stage="1-2" onclick="setBounds('1-2')" coords="486,558,603,624" shape="rect">
                <area target="_self" alt="1-3" title="1-3" data-stage="1-3" onclick="setBounds('1-3')" coords="642,617,785,694" shape="rect">
                <area target="_self" alt="1-4" title="1-4" data-stage="1-4" onclick="setBounds('1-4')" coords="833,578,944,643" shape="rect">
                <area target="_self" alt="1-5" title="1-5" data-stage="1-5" onclick="setBounds('1-5')" coords="1015,607,1187,682" shape="rect">
                <area target="_self" alt="scroll" title="scroll" href="{{ url_for('main_map_2') }}" coords="1149,300,1149,390,1216,343" shape="poly">
            </div>
        </map>
        <!--キャラクター-->
        <img src="../static/images/syukatsu_man.png" id="chara" style="position: absolute;">

        <!--戦闘開始ポップアップ-->
        <div id="openBlock"><a href="{{ url_for('main_quiz') }}">頑張る!!</a></div>

        <a href="{{ url_for('findworktop')}}" class="Bblue">戻る</a>
    </div>

    <script type="text/javascript">
        // キャラクター初期配置
        document.getElementById("chara").style.left = 150;
        document.getElementById("chara").style.top = 430;
        // キャラクター移動
        var hoge = document.getElementById('stage').getAttribute('data-stage');
        function setBounds(hoge){
            console.log(hoge)
			switch(hoge){
                case '1-1':
                    document.getElementById("chara").style.left = 320;
                    document.getElementById("chara").style.top = 420;
                    document.getElementById("openBlock").style.left = 340;
                    document.getElementById("openBlock").style.top = 390;
                    break
                case '1-2':
                    document.getElementById("chara").style.left = 490;
                    document.getElementById("chara").style.top = 380;
                    document.getElementById("openBlock").style.left = 510;
                    document.getElementById("openBlock").style.top = 350;
                    break
                case '1-3':
                    document.getElementById("chara").style.left = 660;
                    document.getElementById("chara").style.top = 430;
                    document.getElementById("openBlock").style.left = 680;
                    document.getElementById("openBlock").style.top = 400;
                    break
                case '1-4':
                    document.getElementById("chara").style.left = 830;
                    document.getElementById("chara").style.top = 400;
                    document.getElementById("openBlock").style.left = 850;
                    document.getElementById("openBlock").style.top = 370;
                    break
                case '1-5':
                    document.getElementById("chara").style.left = 1000;
                    document.getElementById("chara").style.top = 430;
                    document.getElementById("openBlock").style.left = 1020;
                    document.getElementById("openBlock").style.top = 400;
                    break
            }
		}
        // 戦闘画面移行
            $('#stage').click(function(){
                $('#openBlock').toggle();
            })
    </script>
</body>
</html>