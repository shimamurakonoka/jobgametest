<html lang="ja">
<head>
    <title>JavaScript マウスクリック位置に画像が移動</title>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="js/jquery.darktooltip.js" type="text/javascript"></script>
    <link rel="stylesheet" href="css/darktooltip.css">
    <style>
        .container{
            position: relative;
        }
        #pop{
            position: absolute;
            top: 400px;;
            left: 350px;; 
        }
        #openBlock{
            display:none;
            position: absolute;
        }
        .Bbule{ margin-right: 85%;}
    </style>
</head>
<body>
    <div class="container">
        <!-- map表示 -->
        <!-- Image Map Generated by http://www.image-map.net/ -->
        <img src="../static/images/map2.png" usemap="#image-map">
        <map name="image-map">
            <div id="stage">
                <area target="_self" alt="1-6" title="1-6" data-stage="1-6" onclick="setBounds('1-6')" coords="118,552,252,620" shape="rect">
                <area target="_self" alt="1-7" title="1-7" data-stage="1-7" onclick="setBounds('1-7')" coords="284,620,386,690" shape="rect">
                <area target="_self" alt="1-8" title="1-8" data-stage="1-8" onclick="setBounds('1-8')" coords="421,570,538,645" shape="rect">
                <area target="_self" alt="1-9" title="1-9" data-stage="1-9" onclick="setBounds('1-9')" coords="593,616,742,688" shape="rect">
                <area target="_self" alt="1-10" title="1-10" data-stage="1-10" onclick="setBounds('1-10')" coords="957,456,1193,604" shape="rect">
                <area target="_self" alt="scroll" title="scroll" href="{{ url_for('main_map') }}" coords="58,358,131,405,132,316" shape="poly">
            </div>
        </map>

        <!--キャラクター-->
        <img src="../static/images/syukatsu_man.png" id="chara" style="position: absolute;">

        <!--戦闘開始ポップアップ-->
        <div id="openBlock"><a href="{{ url_for('main_quiz') }}">頑張る!!</a></div>

    </div>
    <a href="{{ url_for('findworktop')}}" class="Bblue">戻る</a>

    <script type="text/javascript">
        // キャラクター初期配置
        document.getElementById("chara").style.left = 140;
        document.getElementById("chara").style.top = 370;
        // キャラクター移動
        var hoge = document.getElementById('stage').getAttribute('data-stage');
        function setBounds(hoge){
            console.log(hoge)
			switch(hoge){
                case '1-6':
                    document.getElementById("chara").style.left = 140;
                    document.getElementById("chara").style.top = 370;
                    document.getElementById("openBlock").style.left = 160;
                    document.getElementById("openBlock").style.top = 330;
                    break
                case '1-7':
                    document.getElementById("chara").style.left = 280;
                    document.getElementById("chara").style.top = 440;
                    document.getElementById("openBlock").style.left = 300;
                    document.getElementById("openBlock").style.top = 410;
                    break
                case '1-8':
                    document.getElementById("chara").style.left = 420;
                    document.getElementById("chara").style.top = 400;
                    document.getElementById("openBlock").style.left = 440;
                    document.getElementById("openBlock").style.top = 370;
                    break
                case '1-9':
                    document.getElementById("chara").style.left = 610;
                    document.getElementById("chara").style.top = 440;
                    document.getElementById("openBlock").style.left = 630;
                    document.getElementById("openBlock").style.top = 410;
                    break
                case '1-10':
                    document.getElementById("chara").style.left = 900;
                    document.getElementById("chara").style.top = 430;
                    document.getElementById("openBlock").style.left = 1050;
                    document.getElementById("openBlock").style.top = 180;
                    break
            }
		}
        // 戦闘画面移行
            $('#stage').click(function(){
                $('#openBlock').toggle();
            })
    </script>
</body>
</html>